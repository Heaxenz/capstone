{"ast":null,"code":"import _regeneratorRuntime from\"/Users/heaxenz/School/capstone-project/guided-capstone-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/heaxenz/School/capstone-project/guided-capstone-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/heaxenz/School/capstone-project/guided-capstone-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{useNavigate,useParams}from'react-router-dom';import'./Characters.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Characters=function Characters(_ref){var pageNumber=_ref.pageNumber,nextPage=_ref.nextPage,prevPage=_ref.prevPage,buttonVal=_ref.buttonVal;var navigate=useNavigate();var _useParams=useParams(),num=_useParams.num;console.log(num);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),character=_useState2[0],setCharacters=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(10),_useState6=_slicedToArray(_useState5,2),pageSize=_useState6[0],setPageSize=_useState6[1];useEffect(function(){function fetchCharacters(){return _fetchCharacters.apply(this,arguments);}function _fetchCharacters(){_fetchCharacters=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://anapioficeandfire.com/api/characters?page=\".concat(pageNumber,\"&pagesize=\").concat(pageSize));case 3:res=_context.sent;setCharacters(res.data);setLoading(false);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return _fetchCharacters.apply(this,arguments);}fetchCharacters();},[num,pageNumber,loading,pageSize]);var navigateToCharacter=function navigateToCharacter(url){try{var characterId=url.split('/').pop();navigate(\"/character/\".concat(characterId));}catch(e){console.log(e);}};// const selectOption = ()\nif(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-div\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"header\",children:\"Characters\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"select-div\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Characters per Page: \"}),/*#__PURE__*/_jsxs(\"select\",{className:\"selector\",onChange:function onChange(e){return setPageSize(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{children:\"10\"}),/*#__PURE__*/_jsx(\"option\",{children:\"20\"}),/*#__PURE__*/_jsx(\"option\",{children:\"30\"}),/*#__PURE__*/_jsx(\"option\",{children:\"40\"}),/*#__PURE__*/_jsx(\"option\",{children:\"50\"})]})]}),character.map(function(data){return/*#__PURE__*/_jsx(\"div\",{className:\"character-details\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"character-details\",onClick:function onClick(){return navigateToCharacter(data.url);},children:[data.name===\"\"?data.aliases:data.name,data.culture===''?'':\", \".concat(data.culture),\",\",data.gender==='Female'?' ♀️':' ♂️']})},data.url);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pages-div\",children:[pageNumber>1?/*#__PURE__*/_jsx(\"button\",{className:\"buttons\",onClick:prevPage,children:\"Prev\"}):null,/*#__PURE__*/_jsx(\"button\",{className:\"buttons main-button\",children:pageNumber}),/*#__PURE__*/_jsx(\"button\",{className:\"buttons\",onClick:nextPage,children:\"Next\"})]})]});};export default Characters;//https://www.reddit.com/r/reactjs/comments/z3ue4o/useeffect_and_map_function_not_working_well/","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","useParams","jsx","_jsx","jsxs","_jsxs","Characters","_ref","pageNumber","nextPage","prevPage","buttonVal","navigate","_useParams","num","console","log","_useState","_useState2","_slicedToArray","character","setCharacters","_useState3","_useState4","loading","setLoading","_useState5","_useState6","pageSize","setPageSize","fetchCharacters","_fetchCharacters","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","get","concat","sent","data","t0","stop","navigateToCharacter","url","characterId","split","pop","e","children","className","onChange","target","value","map","onClick","name","aliases","culture","gender"],"sources":["/Users/heaxenz/School/capstone-project/guided-capstone-project/src/components/Characters.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate, useParams } from 'react-router-dom'\nimport './Characters.css'\n\nconst Characters = ({ pageNumber, nextPage, prevPage, buttonVal }) => {\n    let navigate = useNavigate();\n    const {num} = useParams();\n    console.log(num)\n    const [character, setCharacters] = useState('');\n    const [loading, setLoading] = useState(true)\n    const [pageSize, setPageSize] = useState(10)\n\n\n\n    useEffect(() => {\n        async function fetchCharacters() {\n            try {\n                let res = await axios.get(`https://anapioficeandfire.com/api/characters?page=${pageNumber}&pagesize=${pageSize}`)\n                setCharacters(res.data)\n                setLoading(false)\n            } catch (e) {\n                console.log(e)\n            }\n        }\n\n        fetchCharacters();\n    }, [num, pageNumber, loading, pageSize])\n\n\n    const navigateToCharacter = (url) => {\n        try {\n            const characterId = url.split('/').pop();\n            navigate(`/character/${characterId}`);\n\n        } catch (e) {\n            console.log(e)\n        }\n\n    }\n\n    // const selectOption = ()\n\n    if (loading) {\n        return (\n            <div>Loading...</div>\n        )\n    }\n\n\n    return (\n\n        <div>\n            <div className=\"main-div\">\n                <h1 className=\"header\">Characters</h1>\n                <div className='select-div'>\n                    <p>Characters per Page: </p>\n                    <select className=\"selector\" onChange={(e) => setPageSize(e.target.value)}>\n                        <option>10</option>\n                        <option>20</option>\n                        <option>30</option>\n                        <option>40</option>\n                        <option>50</option>\n                    </select>\n                </div>\n                {character.map(data => (\n                    <div className=\"character-details\" key={data.url}>\n\n                        <button className=\"character-details\"\n                            onClick={() => navigateToCharacter(data.url)}>\n                            {data.name === \"\" ? data.aliases : data.name}\n                            {data.culture === '' ? '' : `, ${data.culture}`},\n                            {data.gender === 'Female' ? ' ♀️' : ' ♂️'}\n\n                        </button>\n                    </div>\n                ))}\n\n            </div>\n\n            <div className=\"pages-div\">\n                {pageNumber > 1 ? <button className=\"buttons\" onClick={prevPage} >Prev</button> : null}\n                <button className=\"buttons main-button\" >{pageNumber}</button>\n                <button className=\"buttons\" onClick={nextPage}>Next</button>\n            </div>\n\n\n        </div>\n    )\n}\n\nexport default Characters;\n\n//https://www.reddit.com/r/reactjs/comments/z3ue4o/useeffect_and_map_function_not_working_well/"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}